{% extends "artworks/base.html" %}
{% load django_bootstrap5 %}
{% block content %}
    <div class="container mt-4">
        <div class="row">
            <div class="col mt-6">
                {% if movie.poster %}
                    <img src="{{ movie.poster.url }}"
                         alt="{{ movie.title }}"
                         class="img-fluid shadow"
                         style="width: 100%;
                                max-height: 600px;
                                object-fit: contain">
                {% else %}
                    <div class="alert alert-secondary text-container"
                         style="text-align: center;
                                background-color: white">
                        <p>No poster available</p>
                    </div>
                {% endif %}
            </div>
            <div class="col-md-6">
                <h2>{{ movie.title }}</h2>
                <table class="table-borderless">
                    <tr>
                        <th class="pe-3">Director</th>
                        <td>{{ movie.director }}</td>
                    </tr>
                    <tr>
                        <th class="pe-3">Year</th>
                        <td>{{ movie.year }}</td>
                    </tr>
                    <tr>
                        <th class="pe-3">Genre</th>
                        <td>{{ movie.genre }}</td>
                    </tr>
                    <tr>
                        <th class="pe-3">Duration</th>
                        <td>{{ movie.duration }}</td>
                    </tr>
                    <tr>
                        <th class="pe-3">Created:</th>
                        <td>{{ movie.created_at|date:"d.m.Y H:i" }}</td>
                    </tr>
                    <tr>
                        <th class="pe-3">Last updated:</th>
                        <td>{{ movie.updated_at|date:"d.m.Y H:i" }}</td>
                    </tr>
                </table>
                <div class="mt-4">
                    <a href="{% url 'movies:edit_movie' movie.pk %}" class="btn "><i class="bi bi-pencil-fill"></i></a>
                    <form method="post"
                          action="{% url 'movies:delete_movie' movie.pk %}"
                          style="display: inline"
                          onclick="event.stoppropagation()"
                          onsubmit="return confirm('are you sure you want to delete {{ movie.title }}?');">
                        {% csrf_token %}
                        <button type="submit" class="btn">
                            <i class="bi bi-trash-fill"></i>
                        </button>
                    </form>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock content %}
